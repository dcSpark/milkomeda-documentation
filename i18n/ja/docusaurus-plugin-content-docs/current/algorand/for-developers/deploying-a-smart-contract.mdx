---
sidebar_position: 4
---

import remixImg from "@site/static/img/algorand-remix.png";

# スマート コントラクトのデプロイ

SolidityスマートコントラクトをMilkomeda A1ロールアップにデプロイする方法を説明します。 今回は例として、コントラクトのデプロイにRemix[](http://remix.ethereum.org/)を使用します。 Remixにアクセスするには、こちらのリンクをクリックしてください: [Remix IDE](http://remix.ethereum.org/)

まず、Solidityスマートコントラクトのファイルを作成します。 Remixウィンドウの左パネルで「**Contracts**（コントラクト）」フォルダーをクリックして、次に中央パネルの「**New File**（新規ファイル）」ボタンをクリックします。

![Algorand remix](/img/algorand-remix.png)

すると、新しいSolidityスマートコントラクトのファイル名を入力するように求められます。 ファイル名は任意で設定して構いません。ここでは、ERC-20スマートコントラクトのデプロイを行うため、「Test_ERC20.sol」というファイル名をつけることにしましょう。 ファイル名を入力して、**Enter**を押します。 カーソルが編集パネルに移動するので、Solidityコードを入力します。 コードは以下のとおりです。

```
pragma solidity ^0.7.0;

import "https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v3.4.0-solc-0.7/contracts/token/ERC20/ERC20.sol";

contract Token is ERC20 {

    constructor () ERC20("Token", "TKN") {
        _mint(msg.sender, 1000000 * (10 ** uint256(decimals())));
    }
}
```

次に画面の左側に表示される「**Solidity compiler**（Solidityコンパイラー）」アイコンをクリックして、コンパイラーのバージョンを選択します（この例では**0.7.6+commit.7338295f**を使用しています）。次に、以下のとおり「**Compile Test_ERC20.sol**」をクリックします。

![Solidityコンパイラー](/img/algorand-solidity-compiler.png)

左側の「**Deploy and run transactions**（トランザクションのデプロイと実行）」アイコンをクリックして、以下のとおり「**Environment**（環境）」プルダウンから「**Injected Web3**」を選択します。 MetaMaskの画面が表示されますので、「**Next（次へ）**」をクリックし、「**Connect（接続）**」をクリックして、A1ウォレットとRemixを接続してください。

![](/img/algorand-solidity-compiler-2.png)

MetaMaskウォレットが接続されたら「**Deploy**（デプロイ）」ボタンをクリックして、Milkomeda A1 Rollupにスマートコントラクトをデプロイします。

![](/img/algorand-solidity-compiler-3.png)

MetaMaskでトランザクションを確認します。

![](/img/algorand-metamask-details.png)

Remix IDE画面の左側にある「**Deployed Contracts**（デプロイ済みのコントラクト）」には、次のように表示されます。

![](/img/algorand-deploy-run.png)

ERC20スマートコントラクトのアドレスをコピーしたら、Metamaskでこれを使って作成したトークンを追加することができます。 `Import tokens`をクリックして、コントラクトのアドレスを貼り付けます。

![](/img/algorand-assets.png)

![](/img/algorand-import.png)

`Add Custom Token`をクリックすると、トークンが表示されます。 このトークンを送信して、スマートコントラクトとのインタラクションを実行できます。
