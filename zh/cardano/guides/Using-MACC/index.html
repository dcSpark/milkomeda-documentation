<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-cardano/guides/Using-MACC">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Using Milkomeda&#x27;s Asset Consolidation Contracts (MACC) | Milkomeda</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://dcspark.github.io/zh/cardano/guides/Using-MACC"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Using Milkomeda&#x27;s Asset Consolidation Contracts (MACC) | Milkomeda"><meta data-rh="true" name="description" content="Note: If you are already familiar with Milkomeda Assets Consolidation Contracts, you can skip ahead to the step-by-step guide to learn how to interact with the MACC DApp."><meta data-rh="true" property="og:description" content="Note: If you are already familiar with Milkomeda Assets Consolidation Contracts, you can skip ahead to the step-by-step guide to learn how to interact with the MACC DApp."><link data-rh="true" rel="icon" href="/zh/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://dcspark.github.io/zh/cardano/guides/Using-MACC"><link data-rh="true" rel="alternate" href="https://dcspark.github.io/cardano/guides/Using-MACC" hreflang="en"><link data-rh="true" rel="alternate" href="https://dcspark.github.io/ja/cardano/guides/Using-MACC" hreflang="ja"><link data-rh="true" rel="alternate" href="https://dcspark.github.io/ko/cardano/guides/Using-MACC" hreflang="ko"><link data-rh="true" rel="alternate" href="https://dcspark.github.io/zh/cardano/guides/Using-MACC" hreflang="zh"><link data-rh="true" rel="alternate" href="https://dcspark.github.io/cardano/guides/Using-MACC" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><link rel="stylesheet" href="/zh/assets/css/styles.7a709eee.css">
<link rel="preload" href="/zh/assets/js/runtime~main.ca065ce7.js" as="script">
<link rel="preload" href="/zh/assets/js/main.fca276f8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳转至主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳转至主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/zh/"><div class="navbar__logo"><img src="/zh/img/favicon.svg" alt="Milkomeda logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/zh/img/favicon.svg" alt="Milkomeda logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Milkomeda</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh/home/intro-c1">Cardano (EVM Sidechain)</a><a class="navbar__item navbar__link" href="/zh/">Algorand (EVM Rollup)</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Chinese</a><ul class="dropdown__menu"><li><a href="/cardano/guides/Using-MACC" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/ja/cardano/guides/Using-MACC" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">Japanese</a></li><li><a href="/ko/cardano/guides/Using-MACC" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">Korean</a></li><li><a href="/zh/cardano/guides/Using-MACC" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh">Chinese</a></li></ul></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/home/intro-c1">Getting Started with Milkomeda</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/home/learn/sidechain-l2s">Learn Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/cardano/how-it-works/">How It Works</a><button aria-label="切换可折叠侧栏分类How It Works&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/cardano/for-developers/">给开发者</a><button aria-label="切换可折叠侧栏分类给开发者&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/cardano/for-end-users/">给终端用户</a><button aria-label="切换可折叠侧栏分类给终端用户&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/zh/category/guides">Guides</a><button aria-label="切换可折叠侧栏分类Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/cardano/guides/using_wagmi_with_milkomeda">Using WAGMI with Milkomeda</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/cardano/guides/thirdweb">Building on Milkomeda with Thirdweb</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/cardano/guides/qrng">Quantum Random Numbers from API3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/cardano/guides/creating_safe_on_MilkomedaC1">Creating a Gnosis Safe on Milkomeda</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/cardano/guides/winners_draw">Prize Draw Smart-Contract Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh/cardano/guides/Using-MACC">Using Milkomeda&#x27;s Asset Consolidation Contracts (MACC)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/cardano/guides/integrate-flint-wallet-dapps">Integrate your Milkomeda C1 DApp with Flint Wallet</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/category/wrapped-smart-contracts">Wrapped Smart Contracts</a><button aria-label="切换可折叠侧栏分类Wrapped Smart Contracts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/category/liquid-staking">Liquid Staking</a><button aria-label="切换可折叠侧栏分类Liquid Staking&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/home/get-help">帮助</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">在本页面</button></div><div class="theme-doc-markdown markdown"><h1>Using Milkomeda&#x27;s Asset Consolidation Contracts (MACC)</h1><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_S0QG"><p>Note: If you are already familiar with Milkomeda Assets Consolidation Contracts, you can skip ahead to the <a href="#step-by-step-guide">step-by-step guide</a> to learn how to interact with the MACC DApp.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="context">Context<a href="#context" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><p>Bridges are an essential part of the Milkomeda ecosystem, as they allow users to move different assets from Cardano to Milkomeda C1 so they can enjoy the benefits of the interoperability solutions. However, the existence of multiple bridges to bridge the same assets, results in the fragmentation of assets since each bridge will have its own version of the wrapped asset.</p><p>Taking USDC as an example, the <a href="https://cbridge.celer.network/" target="_blank" rel="noopener noreferrer">Celer Bridge</a> will wrap the asset as ceUSDC while <a href="https://multichain.org/" target="_blank" rel="noopener noreferrer">Multichain</a> will wrap the asset as multiUSDC, although both tokens represent the same asset.</p><p>This creates two perfectly identified but undesirable issues, which are liquidity fragmentation of each bridged asset and poor user experience, especially for new users who are less knowledgeable about the reason and meaning of the different variants of the wrapped tokens.</p><p>On the issue of liquidity fragmentation, this can refer to fragmentation across different DEXes, which is not necessarily undesirable nor avoidable, but more importantly, <strong>it can also refer to the fragmentation of liquidity between the different wrapped alternatives of the same asset.</strong></p><p>When a popular stablecoin, like USDC, is fragmented into multiple issued fragmented assets, the liquidity is also fragmented. This means that a user swapping ceUSDC/mADA on any given pool will experience higher slippage compared to the case if the liquidity was concentrated in a single pool of USDC/mADA.</p><p>For instance, if a user wants to swap mADA for USDC on any popular Milkomeda DEX, they will be presented with multiple versions of USDC to choose from, which can be confusing. This is not an issue with the UI&amp;UX of that particular DEX, but rather a result of fragmented liquidity.</p><p>Another concern with blockchain bridges is the possibility of hacks. Users who hold wrapped assets on a certain bridge are exposed to that particular bridge, and choosing one bridge over another can turn out to be a bad decision in case of a hack. But what if users could be indifferent to the bridge they choose when bridging their assets?</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="milkomeda-assets-consolidation-contracts-macc">Milkomeda Assets Consolidation Contracts (MACC)<a href="#milkomeda-assets-consolidation-contracts-macc" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><p>The aforementioned issues could be addressed by implementing a proposed solution called Milkomeda Assets Consolidation Contracts. These smart contracts enable merging different versions of a particular asset into a single canonical version. This would effectively consolidate the fragmented liquidity of a stablecoin like USDC, which can improve user experience and potentially mitigate the consequences of hacks associated with using multiple bridges.
Canonical Smart Contracts for token merger are essentially two contracts:</p><ol><li>TokenMerger implemented through an ERC1967Proxy and is ownable,</li><li>CanonicalToken, an ERC20 that serves as the canonical version of fragmented ERC20 and that can only be minted by the TokenMerger contract (the proxy).</li></ol><p><strong>To put it simply, the TokenMerger serves as a conversion contract between the various versions of a particular asset,</strong> referred to as Fragmented Tokens, and the Canonical version of the same asset. The TokenMerger is equipped with a whitelist for each Fragmented Token asset, which specifies the allowed assets that can be converted.</p><p>Through the use of Milkomeda Canonical Smart Contracts, it would be possible to consolidate the various versions of a particular asset into a single canonical version. This consolidation would address the issue of liquidity fragmentation among different tokens, resulting in a better user experience. Essentially, a single version of the asset would be used, solving the problem of fragmented liquidity and the poor user experience associated with it.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Suppose we establish a Asset Consolidation Contracts for mUSDC (Canonical asset). User A transfers 10ceUSDC to this contract and receives 10 mUSDC in exchange. Next, user B sends 20multiUSDC to the smart contract and receives 20mUSDC in return. Previously, users A and B would have been required to deposit their funds in separate liquidity pools, such as ceUSDC/mADA and multiUSDC/mADA. However, by canonizing their assets into mUSDC, they can now combine their liquidity in the same pool, mUSDC/mADA.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="treasury">Treasury<a href="#treasury" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>The Milkomeda Assets Consolidation Contracts aim to mitigate the problem of user exposure to a specific bridge by diversifying the risk. The risk diversification is achieved by having each Canonical version of an asset backed by multiple bridges. In case of a hack or exploit on an individual bridge resulting in the depegging of a corresponding Fragmented Asset, MACC will pause the conversion to Canonical asset from that specific token to prevent further losses for users and to avoid off-ramping hacked assets. To protect users who converted their assets to the Canonical Token before a hack, our treasury will cover the potential depegging of the Canonical Token.</p><p><strong>Following infographics aims to show how MACC and Treasury works:</strong></p><img loading="lazy" src="/zh/assets/images/infographic-7797bd9a11c6413cb4f888dec35dd000.png" class="img-full img_ev3q" alt="Macc-info"><p>Users can convert back to any Fragmented asset (e.g. ceUSDC) on a daily basis, provided that the specific token has achieved sufficient liquidity and has not been impacted by a hack on its corresponding bridge.</p><p>The amount of assets that can be converted to MACC from each bridge depends on the amount of assets in the treasury at each time. For instance, if there are three bridges, the maximum amount of assets that can be converted from each bridge will be determined by the Treasury cap.</p><p>If one of the bridges is hacked and suffers losses (up to one-third of the collateral), the treasury must have enough money to cover those losses completely.</p><p>The smart contracts have a limit on the amount of Fragmented tokens that can be converted to Canonical representation, which ensures that the exposure to any one Fragmented token is limited. This limit is determined by setting a cap on the amount of Canonical tokens.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_S0QG"><p>Milkomeda Assets Consolidation Contracts limits the exposure to the fragmented token by setting a cap on the canonical token. The limit of fragmented token is then cap / (# of canonical token fragmentations).</p></div></div><p>In addition, each conversion made through MACC incurs a small commission, which is collected and deposited into the Treasury. In the event of a hack on one of the whitelisted bridges, these funds are used to cover the value of the affected assets, helping to maintain the price of the canonical asset and preserving user trust.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="list-of-supported-fragmented-tokens-in-macc">List of supported Fragmented tokens in MACC:<a href="#list-of-supported-fragmented-tokens-in-macc" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h4><table><thead><tr><th>Token name</th><th>Token Ticker</th><th>Contract Address Details</th><th>Token Type</th><th>Canonical Token Representation</th></tr></thead><tbody><tr><td><a href="https://cbridge.celer.network/" target="_blank" rel="noopener noreferrer">ceUSDC</a></td><td>ceUSDC</td><td><a href="https://explorer-mainnet-cardano-evm.c1.milkomeda.com/address/0x6a2d262D56735DbA19Dd70682B39F6bE9a931D98/transactions" target="_blank" rel="noopener noreferrer">0x6a2d262D56735DbA19Dd70682B39F6bE9a931D98</a></td><td>ERC-20</td><td>mUSDC</td></tr><tr><td><a href="https://multichain.org/" target="_blank" rel="noopener noreferrer">multiUSDC</a></td><td>multiUSDC</td><td><a href="https://explorer-mainnet-cardano-evm.c1.milkomeda.com/address/0xB44a9B6905aF7c801311e8F4E76932ee959c663C/transactions" target="_blank" rel="noopener noreferrer">0xB44a9B6905aF7c801311e8F4E76932ee959c663C</a></td><td>ERC-20</td><td>mUSDC</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="list-of-macc-canonical-tokens">List of MACC Canonical tokens:<a href="#list-of-macc-canonical-tokens" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h4><table><thead><tr><th>Token name</th><th>Token Ticker</th><th>Contract Address Details</th><th>Token Type</th><th>Fragmented Tokens Allowed</th></tr></thead><tbody><tr><td><a href="https://macc.milkomeda.com/convert" target="_blank" rel="noopener noreferrer">mUSDC</a></td><td>mUSDC</td><td><a href="https://explorer-mainnet-cardano-evm.c1.milkomeda.com/address/0x063139a927FE02B3a6A5E0d5B48c8BeDFA7de954/transactions" target="_blank" rel="noopener noreferrer">0x063139a927FE02B3a6A5E0d5B48c8BeDFA7de954</a></td><td>ERC-20</td><td>ceUSDC, multiUSDC</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-by-step-guide">A Comprehensive Step-by-Step Guide to the MACC DApp<a href="#step-by-step-guide" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><p>To begin using the MACC DApp, you will need an asset that is supported by the platform (currently only bridged USDC), as well as some mADA to cover the network transaction fee. To interact with MACC DApp you can use Metamask, Flint, NuFi or Wallet Connect.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_S0QG"><p>The following article presents a step-by-step guide for using MACC DApp on Milkomeda C1 devnet, where TKNA (devnet representation of ceUSDC) and TKNB (devnet representation of multiUSDC) represent the fragmented assets that are accepted by the whitelisted bridges, while MRGER is a Canonical Representation (on mainnet - mUSDC).</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-1--connect-your-wallet">Step 1 : Connect your Wallet<a href="#step-1--connect-your-wallet" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h4><p>To get started with the MACC DApp, go to the <a href="https://milkomeda-macc.pages.dev" target="_blank" rel="noopener noreferrer">MACC homepage</a>.</p><p>Once you arrive there, you&#x27;ll need to connect your wallet to proceed. To do this, you have two options. You can either click the &quot;Connect Wallet&quot; button located in the top right corner of the connect page, or you can go directly to the converting page.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>The hero section of the MACC now includes a data section that provides valuable information at a glance. This section allows you to quickly check which bridgers are currently supported by the MACC, as well as the number of assets that have been converted from each of them. In addition, you can easily review the available liquidity and cap for the Canonical Token, as well as the balance of the Treasury.</p></div></div><img loading="lazy" src="/zh/assets/images/macc1-621a88dde7b074d70c138f461197d8a3.png" class="img-full img_ev3q" alt="Macc-hero"><p>Please be aware that in order to connect to the MACC DApp, you must use one of our currently supported wallets, such as Metamask, Wallet Connect, or Flint. Once you have selected your preferred wallet, you can proceed to the convert page and begin converting your assets.</p><img loading="lazy" src="/zh/assets/images/macc2-dad05f65080767f05dbcbe3b7c797c88.png" class="img-full img_ev3q" alt="Choose your Wallet"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-2--select-the-fragmented-asset-you-wish-to-convert">Step 2 : Select the Fragmented asset you wish to convert<a href="#step-2--select-the-fragmented-asset-you-wish-to-convert" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h4><p>To start converting your Fragmented asset use the Select ERC-20 drop-down and choose the asset you want to convert.</p><img loading="lazy" src="/zh/assets/images/macc3-f41614999ce6183c4270737291789456.png" class="img-full img_ev3q" alt="Click asset dropdown">To begin the conversion process, select the asset you wish to convert from the drop-down menu. For the purpose of this tutorial, we will be converting TKNA, which represents one of the fragmented assets of Bridge A.<img loading="lazy" src="/zh/assets/images/macc4-be284e4a8ddd9dd212eaf7b07fdd98dd.png" class="img-full img_ev3q" alt="Select asset"><p>Once you have selected the fragmented asset and entered the amount you wish to convert, the MACC DApp&#x27;s user interface will calculate the amount of Canonical Token you will receive in return. As shown on the following screen, the Canonical Token (pre-populated as MRGER token) will be displayed after you have entered the required amount to be converted.</p><img loading="lazy" src="/zh/assets/images/macc5-8e2e6ae3e822ae882ced712eb2cd0df5.png" class="img-full img_ev3q" alt="Summary of conversion"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_S0QG"><p>On the mainnet deployment, you should see mUSDC, which represents the Canonical token of USDC-fragmented assets.</p></div></div><p>Once you enter the desired amount for conversion, the UI will display supplementary information.</p><ul><li>The top corner of the &quot;Convert to Standard USD&quot; tab conveniently displays your wallet&#x27;s balance for the chosen fragmented asset.</li><li>Below the chosen Canonical Token, you will see its available liquidity.
<em>If the amount you enter exceeds the available liquidity, you will receive a message informing you of this fact.</em></li><li>You can also choose a custom receiver.</li><li>The DApp UI will display converting details such as the assets you are converting, the typed amount, contract addresses, conversion rate, commission percentage, and estimated network fee.</li></ul><p>Before proceeding with the conversion, please double-check all the information displayed on the DApp UI and make sure you are familiar with the Terms of Use. In the next step, you will need to accept the ToU to be able to convert your fragmented assets.</p><img loading="lazy" src="/zh/assets/images/macc6-ee1204aff4cd3d244ed5e4147735888d.png" class="img-full img_ev3q" alt="Ready for conversion"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-3--convert-your-fragmented-assets">Step 3 : Convert your Fragmented Assets<a href="#step-3--convert-your-fragmented-assets" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h4><p>To initiate the conversion process, you will need to accept two transactions. The first transaction permits the DApp to access the tokens in your wallet, and once the network confirms this transaction, you will be prompted to accept the conversion transaction. This two-step process is standard to ensure that no DApp can empty a connected wallet without the user&#x27;s approval.</p><blockquote><p>3.1. Set a spending cap for your Fragmented asset</p></blockquote><img loading="lazy" src="/zh/assets/images/macc7-334d29b49867238d0f0a14863596a904.png" class="img-full img_ev3q" alt="Set spending cap"><blockquote><p>3.2 Confirm the conversion transaction in your Metamask wallet.</p></blockquote><img loading="lazy" src="/zh/assets/images/macc8-b93545fa68c6032078b8174a16dfa915.png" class="img-full img_ev3q" alt="Confim the transaction"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="success-you-converted-your-fragmented-assets">Success! You converted your Fragmented assets<a href="#success-you-converted-your-fragmented-assets" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><p>After the conversion transaction has been confirmed on the network, you can view the summary of your conversion.
As a final step, and this only needs to be done the first time you convert to a particular canonical asset, you need to add the canonical asset to your wallet.
To add the Canonical Token to your MetaMask wallet, simply click <strong>+ Add token to wallet.</strong> MetaMask will prompt you to add a custom token to your wallet, and you&#x27;ll be able to view its balance immediately.</p><img loading="lazy" src="/zh/assets/images/macc9-f556243fdd326928ae35e693384624ef.png" class="img-full img_ev3q" alt="Add token"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="macc-dapp-transaction-history">MACC DApp Transaction History<a href="#macc-dapp-transaction-history" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><p>Once you have completed your first successful conversion, you can easily track it by visiting the MACC Transaction History Tab. To access this page, simply click on the &quot;Transaction History&quot; from the main navbar or click this <a href="https://milkomeda-macc.pages.dev/history." target="_blank" rel="noopener noreferrer">link</a>, you will be able to view all Milkomeda&#x27;s Assets Consolidation Contracts transactions.</p><img loading="lazy" src="/zh/assets/images/macc10-23fd734f35aebf7fefc1eb39fed4179c.png" class="img-full img_ev3q" alt="Transaction history"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="converting-canonical-assets-back-fragmented-version">Converting Canonical assets back Fragmented version<a href="#converting-canonical-assets-back-fragmented-version" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h2><p>To convert canonical assets back into a fragmented asset, follow a similar process as mentioned above, with the only difference being that you can convert to a different fragmented asset than the one you originally converted from.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-to-begin-select-the-convert-back-to-erc20-tab-on-the-macc-dapp">Step 1: To begin, select the &quot;Convert back to ERC20&quot; tab on the MACC DApp.<a href="#step-1-to-begin-select-the-convert-back-to-erc20-tab-on-the-macc-dapp" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h4><img loading="lazy" src="/zh/assets/images/macc11-2d366c0bc8e42d8bdf6b0d19f069792b.png" class="img-full img_ev3q" alt="Convert back tab"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-select-canonical-asset">Step 2: Select Canonical asset<a href="#step-2-select-canonical-asset" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h4><p>To begin, choose the canonical asset that you want to convert from the token selector located at the top. For the purposes of this tutorial, we will be using the MRGER token (canonical asset) that was received earlier. It is important to note that the MACC DApp will support multiple canonical assets in the future.</p><img loading="lazy" src="/zh/assets/images/macc12-daa87f054a21459075f7ed78eb194284.png" class="img-full img_ev3q" alt="Select canonical asset"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-select-fragmented-asset">Step 3: Select Fragmented asset<a href="#step-3-select-fragmented-asset" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h4><p>Now you need to select which Fragmented asset you want to convert your Canonical asset back to.</p><img loading="lazy" src="/zh/assets/images/macc13-05b5a7f85b7212da1176861cdd5dba2c.png" class="img-full img_ev3q" alt="Select fragmented asset"><p>When you open the Fragmented token drop-down, you&#x27;ll see a list of supported Fragmented assets that you can convert your Canonical asset back to.</p><p>However, please keep in mind the following rules:</p><ul><li>The Fragmented token must have sufficient liquidity for the conversion to occur.</li><li>The Fragmented token must not have been compromised by any hacking or exploitation attempts.</li></ul><p><strong>Example:</strong>
If you aim to convert 300 MRGER to Token A, but the current available liquidity for Token A is lower than the desired conversion amount, you will only be able to convert up to the maximum liquidity available. In case you try to convert more than the available liquidity, the DApp UI will display a warning message to alert you.</p><img loading="lazy" src="/zh/assets/images/macc14-4c04ce96c5c4743079a5577b5674b9e0.png" class="img-full img_ev3q" alt="Select fragmented asset"><p>To convert your Canonical asset back to Fragmented tokens, follow the same process as converting Fragmented tokens to their Canonical representation.</p><p>In this example, we will convert 60 MRGER tokens back to Token A.</p><p>After the network has processed your transaction, you have successfully converted your Canonical asset back to a Fragmented token. If this is the first time you have held this Fragmented token in your wallet, you can add it to your MetaMask by clicking the <strong>Add token to wallet</strong> button.</p><img loading="lazy" src="/zh/assets/images/macc15-715b4d49964758a1bb656f5638652dbf.png" class="img-full img_ev3q" alt="Success"><p>Once you have completed your conversion, you can easily track it by visiting the MACC Transaction History Tab. To access this page, simply click on the &quot;Transaction History&quot; from the main navbar or click this <a href="https://milkomeda-macc.pages.dev/history." target="_blank" rel="noopener noreferrer">link</a>, you will be able to view all Milkomeda&#x27;s Assets Consolidation Contracts transactions.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary:<a href="#summary" class="hash-link" aria-label="直接链接到标题" title="直接链接到标题">​</a></h3><p>Canonical smart contracts and the MACC DApp solve the persistent problem of fractionalized assets and improve the DeFi experience on Milkomeda for all involved while help protect your assets from potential bridge exploits!
This guide provides step-by-step instructions for converting fragmented tokens to their canonical representation and back, using the Milkomeda&#x27;s Assets Canonicalization Contract (MACC) DApp.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档页面导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh/cardano/guides/winners_draw"><div class="pagination-nav__sublabel">前一页</div><div class="pagination-nav__label">Prize Draw Smart-Contract Tutorial</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh/cardano/guides/integrate-flint-wallet-dapps"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Integrate your Milkomeda C1 DApp with Flint Wallet</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#context" class="table-of-contents__link toc-highlight">Context</a></li><li><a href="#milkomeda-assets-consolidation-contracts-macc" class="table-of-contents__link toc-highlight">Milkomeda Assets Consolidation Contracts (MACC)</a><ul><li><a href="#treasury" class="table-of-contents__link toc-highlight">Treasury</a></li></ul></li><li><a href="#step-by-step-guide" class="table-of-contents__link toc-highlight">A Comprehensive Step-by-Step Guide to the MACC DApp</a></li><li><a href="#success-you-converted-your-fragmented-assets" class="table-of-contents__link toc-highlight">Success! You converted your Fragmented assets</a></li><li><a href="#macc-dapp-transaction-history" class="table-of-contents__link toc-highlight">MACC DApp Transaction History</a></li><li><a href="#converting-canonical-assets-back-fragmented-version" class="table-of-contents__link toc-highlight">Converting Canonical assets back Fragmented version</a><ul><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary:</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">版权所有 © 2022 Mikomeda Foundation. 此网站使用 Docusaurus 构建。</div></div></div></footer></div>
<script src="/zh/assets/js/runtime~main.ca065ce7.js"></script>
<script src="/zh/assets/js/main.fca276f8.js"></script>
</body>
</html>